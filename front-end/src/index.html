<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Metas -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Page title -->
  <title>MWMBL - Search</title>
  <meta name="description" content="The free, open-source and non-profit search engine.">

  <!-- Favicons -->
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">

  <!-- Fonts import -->
  <link rel="preload" href="/fonts/inter/inter.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="/fonts/inter/inter.css">
  </noscript>

  <!-- CSS Stylesheets (this is critical CSS) -->
  <link rel="stylesheet" type="text/css" href="/css/reset.css">
  <link rel="stylesheet" type="text/css" href="/css/theme.css">
  <link rel="stylesheet" type="text/css" href="/css/global.css">

  <!-- Phosphor Icons (https://github.com/phosphor-icons/phosphor-home) -->
  <link rel="preload" href="/fonts/phosphor/icons.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="/fonts/phosphor/icons.css">
  </noscript>

  <!-- Custom Element Polyfill for Safari -->
  <script src="https://unpkg.com/@ungap/custom-elements" type="module"></script>

  <!-- OpenSearch -->
  <link rel="search" type="application/opensearchdescription+xml" href="../assets/opensearch.xml" title="MWMBL Search">

  <!-- POC temporary use of jQueryUI! -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
</head>

<body>
<!--  <mwmbl-login></mwmbl-login>-->
<!--  <mwmbl-register></mwmbl-register>-->
  <mwmbl-app></mwmbl-app>
  <noscript>
    <!-- https://stackoverflow.com/a/431554 -->
    <style> .jsonly { display: none } </style>
    <main class="noscript">
      <img class="brand-icon" src="/static/images/logo.svg" width="40" height="40" alt="mwmbl logo">
      <h1>
        Welcome to mwmbl, the free, open-source and non-profit search engine.
      </h1>
      <p>This website requires you to support/enable scripts.</p>
      <p>
        More information on
        <a href="https://github.com/mwmbl/mwmbl" target="__blank">
          Github
        </a>
        .
      </p>
    </main>
  </noscript>

  <!-- Javasript entrypoint -->
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  <script src="./index.js" type="module"></script>

  <main class="jsonly">
    <header class="search-menu">
      <ul>
        <li is="${save}"></li>
      </ul>
      <div><a href="/accounts/login/">Login</a> <a href="/accounts/signup/">Sign up</a> </div>
      <div class="branding">
        <img class="brand-icon" src="/static/images/logo.svg" width="40" height="40" alt="mwmbl logo">
        <span class="brand-title">MWMBL</span>
      </div>
      <form class="search-bar">
        <i class="ph-magnifying-glass-bold"></i>
        <input
          type='search'
          name='query'
          class='search-bar-input'
          placeholder='Search on mwmbl...'
          title='Use "CTRL+K" or "/" to focus.'
          autocomplete='off'
          hx-get="/app/search/"
          hx-trigger="keyup changed delay:100ms"
          hx-target=".results"
        >
      </form>
    </header>
    <main>
      <mwmbl-results>
        <ul class='results'>
          <li is='${home}'></li>
        </ul>
      </mwmbl-results>
    </main>
    <div is="mwmbl-add-result"></div>
    <footer is="mwmbl-footer"></footer>
  </main>
</body>

</html>